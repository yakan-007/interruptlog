# InterruptLog リリース前チェックリスト

## 1. 基本機能テスト ✅

### タスク管理
- [ ] 新規タスク作成（ホーム画面）
- [ ] タスク名を入力して開始
- [ ] タスクの停止
- [ ] タスクの再開（停止したタスクをクリック）
- [ ] タスクの完了（チェックボックス）
- [ ] タスクの削除
- [ ] タスクの並び替え（ドラッグ&ドロップ）
- [ ] タスク名の編集
- [ ] イベント履歴でタスク種別・カテゴリ・メモをインライン編集できる
- [ ] 未分類イベントにタスクを紐付けして保存できる（ラベルが自動補完されることを確認）
- [ ] 紐付けタスク選択時は件名フィールドが自動入力/編集不可になる

### 割り込み機能
- [ ] タスク実行中に「Interrupt」ボタンが表示される
- [ ] 割り込みモーダルが開く
- [ ] タイマーが動作している
- [ ] 詳細入力（Subject, Who, Type, Urgency）
- [ ] 「Save & Resume」で元のタスクに戻る
- [ ] 「Save & End」で割り込みのみ保存
- [ ] 「Cancel」で割り込みをキャンセル（イベント削除）
- [ ] 「Cancel」で割り込みをキャンセルした際、未分類の時間イベントが挿入される
- [ ] モーダル外クリックで何も起きない（誤操作防止）
- [ ] バツボタンが表示されない

### 休憩機能  
- [ ] タスク実行中に「Break」ボタンが表示される
- [ ] 休憩モーダルが開く
- [ ] タイマーが動作している
- [ ] 休憩ラベルの入力（オプション）
- [ ] 「Save & Resume」で元のタスクに戻る
- [ ] 「Save & End」で休憩のみ保存
- [ ] 「Cancel」で休憩をキャンセル
- [ ] モーダル外クリックで何も起きない
- [ ] バツボタンが表示されない
- [ ] イベント履歴で休憩イベントを編集しても余計な入力欄が表示されない（休憩タイプ等）

### フローティングコントロール
- [ ] アクティブなタスクがある時のみ表示
- [ ] 正しいアイコンが表示される（タスク/割り込み/休憩）
- [ ] 経過時間が正しく更新される
- [ ] 「Stop」ボタンが機能する

## 2. レポート機能テスト 📊

### レポートページ
- [ ] 今日のサマリーカードが表示される
  - [ ] Total Focus Time
  - [ ] Total Interrupt Time  
  - [ ] Total Break Time
- [ ] 時間が正しく計算されている
- [ ] 横棒グラフが表示される
- [ ] Recent Events（最新10件）が表示される
- [ ] Interrupt Timeline（24時間ビュー）が表示される
- [ ] Completed Tasks が表示される

### データの正確性
- [ ] タスク時間の合計が正しい
- [ ] 割り込み回数が正しい
- [ ] 休憩時間が正しい
- [ ] イベントの時刻表示が正しい
- [ ] 未分類イベントをタスク/割り込み/休憩に変換した場合でもレポートに反映される

## 3. 設定機能テスト ⚙️

### テーマ切り替え
- [ ] ライトモード切り替え
- [ ] ダークモード切り替え
- [ ] システム設定に従う

### データ管理
- [ ] Export機能でJSONファイルがダウンロードされる
- [ ] エクスポートしたデータに全イベントが含まれている
- [ ] Import機能でファイルを選択できる
- [ ] インポート後、データが正しく表示される
- [ ] エクスポートしたデータに `isUnknownActivity` や `meta.myTaskId` が必要に応じて含まれている

### タスク管理（設定画面）
- [ ] 新規タスク追加
- [ ] タスク名編集
- [ ] タスク削除
- [ ] 変更が即座に反映される

## 4. データ永続性テスト 💾

- [ ] ブラウザをリロードしてもデータが残っている
- [ ] タブを閉じて開き直してもデータが残っている
- [ ] 実行中のタスクがリロード後に停止される
- [ ] IndexedDBにデータが保存されている（開発者ツールで確認）

## 5. エッジケーステスト 🔍

### 異常操作
- [ ] タスク名を空で開始しようとする → 開始されない
- [ ] 同じタスクを重複して開始しようとする → 前のが終了して新規開始
- [ ] 割り込み中に別の割り込みを開始 → 対応する
- [ ] 休憩中に割り込みを開始 → 対応する

### 長時間動作
- [ ] タスクを1時間以上実行 → 正しく時間表示
- [ ] 日をまたいでタスクを実行 → レポートが正しく分割される

### 大量データ
- [ ] 100個以上のイベントがある状態でパフォーマンス確認
- [ ] スクロールがスムーズか
- [ ] ページ遷移が遅くないか

## 6. UI/UXテスト 🎨

### レスポンシブデザイン
- [ ] デスクトップ表示（1920x1080）
- [ ] タブレット表示（768x1024）
- [ ] スマートフォン表示（375x667）
- [ ] 横向き表示

### アクセシビリティ
- [ ] キーボードでの操作（Tab移動）
- [ ] Enterキーでフォーム送信
- [ ] フォーカス表示が見える
- [ ] コントラストが十分

### 視覚的確認
- [ ] アイコンが正しく表示される
- [ ] フォントが読みやすい
- [ ] レイアウトが崩れていない
- [ ] ダークモードで全要素が見える

## 7. ブラウザ互換性テスト 🌐

- [ ] Chrome（最新版）
- [ ] Firefox（最新版）
- [ ] Safari（最新版）
- [ ] Edge（最新版）
- [ ] モバイルChrome
- [ ] モバイルSafari

## 8. ビルド&デプロイテスト 🚀

### ローカルビルド
```bash
npm run build
npm run start
```
- [ ] ビルドエラーがない
- [ ] プロダクションビルドが正常に動作
- [ ] 環境変数が正しく設定されている

### パフォーマンス
- [ ] Lighthouse スコア確認
  - [ ] Performance: 90以上
  - [ ] Accessibility: 90以上
  - [ ] Best Practices: 90以上
  - [ ] SEO: 90以上

## 9. 最終確認事項 ✓

- [ ] コンソールにエラーが出ていない
- [ ] ネットワークエラーがない
- [ ] 個人情報が含まれていない
- [ ] デバッグログが削除されている
- [ ] README.mdが最新
- [ ] USAGE_GUIDE.mdが最新

## テストシナリオ例 🎯

### シナリオ1: 典型的な1日の使用
1. 朝、「メール確認」タスクを開始
2. 10分後、上司から電話（割り込み）
3. 「Save & Resume」でメール確認に戻る
4. メール確認完了
5. 「資料作成」タスクを開始
6. 1時間後、コーヒーブレイク（休憩）
7. 「Save & Resume」で資料作成に戻る
8. 同僚からの質問（割り込み）
9. レポートページで1日の活動を確認

### シナリオ2: エラー回復
1. タスク実行中にブラウザがクラッシュ
2. ブラウザを再起動
3. データが復元されているか確認
4. 中断されたタスクの状態確認

## 備考
- 各項目をチェックしながら進める
- 問題があれば詳細を記録
- 全項目がOKになったらリリース可能
